<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Datasheet</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Datasheet</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This directory contains two scripts <code>make-questionnaire.rkt</code> and
<code>sanitize.rkt</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>make-questionnaire.rkt</code> takes a datasheet spec file, say
<code>D-admin.adoc</code>, and produces
a student-facing file, <code>D-student.adoc</code>, that each student fills out.</p>
</li>
<li>
<p><code>sanitize.rkt</code> checks the filled <code>D-student.adoc</code> for errors and
corrects it in-place. A sanitized <code>D-student.adoc</code> can then be
processed by Asciidoctor to produce an HTML version of the
student&#8217;s answers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It also includes a sample spec file, <code>D-admin.adoc</code>, a sample
stylesheet <code>questionnaire.css</code>, and other
production datasheets as they are authored.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_format_of_the_d_admin_adoc_file">Format of the <code>D-admin.adoc</code> file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>D-admin.adoc</code> file contains a list of tags with the paragraph
that each tag expands to. E.g., a tag <code>Description</code> could be
defined as:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>:Description:
These questions relate to the Frobbotz dataset. Your
answers will help clarify what Frobbotz's benefits, demands,
and consequences are.</pre>
</div>
</div>
<div class="paragraph">
<p>All tags end with a blank line or end-of-file. This tag is a not
a question, and there is no expectation of an answer by the
student. Non-question tags have a leading underscore (<code>_</code>).</p>
</div>
<div class="paragraph">
<p>The line immediately following a question tag is the AsciiDoc
class <code>[.question]</code>.
E.g.,</p>
</div>
<div class="literalblock">
<div class="content">
<pre>:origin:
[.question]
Where did the Frobbotz data come from?</pre>
</div>
</div>
<div class="paragraph">
<p>In addition to these tag descriptions, the admin file
may contain other content. These are passed through except that
any leading comment indicators are stripped. This is useful for
including structure (like section breaks). E.g.,</p>
</div>
<div class="literalblock">
<div class="content">
<pre>// == Questions relating to Frobbotz's dispersal</pre>
</div>
</div>
<div class="paragraph">
<p>This identifies a subsection with its header.</p>
</div>
<div class="paragraph">
<p>If you want a comment to pass through as a comment, simply double
the comment marker (with at least one space sep):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>// // This comment passes through.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_student_facing_file_d_student_adoc">The student-facing file, <code>D-student.adoc</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The command</p>
</div>
<div class="literalblock">
<div class="content">
<pre>make-questionnaire.rkt D-admin.adoc.</pre>
</div>
</div>
<div class="paragraph">
<p>creates the corresponding student-facing file, <code>D-student.adoc</code>.</p>
</div>
<div class="paragraph">
<p>This file is a copy of <code>D-admin.adoc</code> with all the
comments uncommented. Thus, the commented section header above
becomes</p>
</div>
<div class="literalblock">
<div class="content">
<pre>== Questions relating to Frobbotz's dispersal</pre>
</div>
</div>
<div class="paragraph">
<p>The tag definitions are converted tag inclusions, and
their values are given as AsciiDoc comments so that the student
can read them and enter the appropriate answer in the space
indicated. E.g., the tagged question <code>:origin:</code> above becomes</p>
</div>
<div class="literalblock">
<div class="content">
<pre>include::D-admin.adoc[...]
//
// Question :origin:
//
// Where did the Frobbotz data come from?
//
// PLEASE MODIFY TEXT BELOW THIS LINE FOR YOUR ANSWER
//
Ad rem est vero cum ratione. Optio dolor molestiae consequatur
perferendis sint amet eligendi. Minus unde odit quod officia sit
ut impedit facilis. Voluptatum alias illo et dolore impedit aut
vitae qui. Laborum itaque ipsa possimus et.</pre>
</div>
</div>
<div class="paragraph">
<p>The student replaces the Latin filler text with their actual
answer.</p>
</div>
<div class="paragraph">
<p>The tags that define non-questions are also translated to tag
inclusions. Their text is also commented, so the student can read them
for guidance, but there is no invitation to write under them (and
no filler text). Thus the <code>:Description:</code> tag above becomes:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>include::D-admin.adoc[...]
//
// These questions relate to the Frobbotz dataset. Your
// answers will help clarify what Frobbotz's benefits, demands,
// and consequences are.
//</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_editing_and_submitting_d_student_adoc">Editing and submitting <code>D-student.adoc</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The student edits <code>D-student.adoc</code> using the text editor of their
choice. Answers are written in the spaces advised. The comments&#8201;&#8212;&#8201;whether guidelines or questions&#8201;&#8212;&#8201;tolerate any amount of
mangling, as they are just comments. The tag inclusion lines
ideally should not be
tampered with.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sanitizing_d_student_adoc">Sanitizing <code>D-student.adoc</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Running</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sanitize.rkt D-student.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>corrects any damage the file may have incurred during the editing
process. <code>sanitize.rkt</code> uses the admin file, <code>D-admin.adoc</code>, to
ensure that all the guidelines and questions are re-inserted
correctly, and that all tags are present and answered, and are in the
right order. Cases of serious manglage are reported as failure,
so the file can be discarded as invalid.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_html_report">Creating HTML report</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run Asciidoctor on the filled student file.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>asciidoctor -a stylesheet=questionnaire.css D-student.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>Any stylesheet may be used. Ideally, it should contain a suitable
style for the class <code>.question</code>, so the questions stand out apart
from the student answers.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-12-15 12:51:32 -0500
</div>
</div>
</body>
</html>